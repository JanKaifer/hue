{"version":3,"sources":["Constants.js","components/tile.js","components/square.js","components/board.js","App.js","serviceWorker.js","index.js"],"names":["ItemTypes","TILE","COLORS","useStyles","makeStyles","tile","height","width","background","p","color","join","opacity","isDragging","Tile","item","fixed","useDrag","canDrag","collect","monitor","drag","c","className","ref","draggable","square","border","wallSize","correct","position","zIndex","selected","transform","transition","cursor","display","content","top","left","borderRadius","backgroundColor","Square","tileColor","onDrop","onClick","dndItem","useDrop","accept","canDrop","drop","undefined","sameField","a","b","x","y","board","gridTemplateColumns","W","gridTemplateRows","H","Board","correctBoard","swap","length","React","useState","setSelected","setWallSize","window","backend","HTML5Backend","options","enableMouseEvents","preview","squares","push","key","JSON","stringify","type","pos","correctColors","colors","ok","forEach","c1","i","c2","j","Math","max","map","k","abs","getColors","floor","random","min","SIM_CONST","combineColors","colorA","coefA","colorB","coefB","shuffleBoard","filter","genBoard","iter","colorAbove","colorBelow","concat","current","console","log","parse","checkWin","app","App","useRef","setBoard","counter","setCounter","useEffect","pid","setTimeout","alert","clearTimeout","solve","board_old","helper","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.137bf5f6.chunk.js","sourcesContent":["export const ItemTypes = {\n    TILE: 'tile',\n}\n\nexport const COLORS = [\n  [255, 0  , 0  ],\n  [0  , 255, 0  ],\n  [0  , 0  , 255],\n  [255, 255, 0  ],\n  [255, 0  , 255],\n  [0  , 255, 255],\n]\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles'\nimport { useDrag } from 'react-dnd'\n\nimport { ItemTypes } from '../Constants'\n\nconst useStyles = makeStyles({\n  tile: {\n    height: '100%',\n    width: '100%',\n    background: p => `rgb(${p.color.join(\", \")})`,\n    opacity: p => p.isDragging ? 0: 1,\n  }\n});\n\nfunction Tile({color, item, fixed}) {\n  const [ {isDragging}, drag ] = useDrag({\n    item,\n    canDrag: () => !fixed,\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  })\n  const c = useStyles({isDragging, color});\n  return (\n    <div\n      className={c.tile}\n      ref={drag}\n      draggable\n    />\n  );\n}\n\nexport default Tile;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles'\nimport { useDrop } from 'react-dnd'\n\nimport Tile from './tile'\nimport { ItemTypes } from '../Constants'\n\nconst useStyles = makeStyles({\n  square: {\n    background: '#000',\n    border: p => `${p.wallSize}px solid ${ p.correct ? '#CCC': '#000'}`,\n    position: 'relative',\n\n    zIndex: p => p.selected ? 1: 0,\n    transform: p => p.selected ? 'scale(1.2)': 'scale(1)',\n    transition: 'all .1s ease-out',\n    cursor: p => p.fixed? 'initial': 'pointer',\n    \"&::before\": {\n      display: p => p.fixed ? 'block': 'none',\n      content: '\" \"',\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n      borderRadius: '100%',\n      backgroundColor: '#000',\n      width: '10%',\n      height: '10%',\n    }\n  }\n});\n\nfunction Square({tileColor, onDrop, onClick, selected, fixed, dndItem, correct, wallSize}) {\n  const [, drop] = useDrop({\n    accept: ItemTypes.TILE,\n    canDrop: () => !fixed,\n    drop: onDrop,\n  })\n\n  const c = useStyles({selected, fixed, correct, wallSize});\n  return (\n    <div\n      className={c.square}\n      ref={drop}\n      onClick={fixed ? undefined: onClick}\n    >\n      <Tile\n        color={tileColor}\n        item={dndItem}\n        fixed={fixed}\n      />\n    </div>\n  );\n}\n\nexport default Square;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles'\nimport { DndProvider } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport TouchBackend from 'react-dnd-touch-backend'\n\nimport Square from './square'\nimport { ItemTypes } from '../Constants'\n\nconst sameField = (a, b) => {\n  return a.x === b.x && a.y === b.y\n}\n\nconst useStyles = makeStyles({\n  board: {\n    height: '100vmin',\n    width: '100vmin',\n\n    display: 'grid',\n    gridTemplateColumns: p => `repeat(${p.W}, 1fr)`,\n    gridTemplateRows: p => `repeat(${p.H}, 1fr)`,\n  }\n});\n\nfunction Board({board, correctBoard, swap}) {\n  const W = board.length\n  const H = (board[0] || []).length\n  const c = useStyles({ W, H })\n\n  const [ selected, setSelected ] = React.useState(undefined)\n  const [ wallSize, setWallSize ] = React.useState(0)\n  window.setWallSize = setWallSize\n\n  return (\n    <DndProvider backend={HTML5Backend} options={{enableMouseEvents: true, preview: true}}>\n      <div\n        className={c.board}\n      >\n        {(()=>{\n          const squares = []\n          for (let y = 0; y < H; ++y) {\n            for (let x = 0; x < W; ++x) {\n              squares.push(\n                <Square\n                  key={[x,y].join(', ')}\n                  tileColor={board[x][y]}\n                  fixed={(y === 0 || y === H-1) && (x === 0 || x === W-1)}\n                  correct={JSON.stringify(board[x][y]) === JSON.stringify(correctBoard[x][y])}\n                  dndItem={{\n                    type: ItemTypes.TILE,\n                    pos: {x, y},\n                  }}\n                  selected={selected !== undefined && sameField(selected, {x, y})}\n                  onDrop={item => {\n                    swap(item.pos, {x, y})\n                  }}\n                  onClick={() => {\n                    if (selected === undefined) {\n                      setSelected({x, y})\n                    } else {\n                      if (!sameField(selected, {x, y})) {\n                        swap(selected, {x, y})\n                      }\n                      setSelected(undefined)\n                    }\n                  }}\n                  wallSize={wallSize}\n                />\n              )\n            }\n          }\n          return squares\n        })()}\n      </div>\n    </DndProvider>\n  );\n}\n\nexport default Board;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles'\n\nimport Board from './components/board'\nimport { ItemTypes, COLORS } from './Constants'\n\nlet [ W, H ] = [5, 5]\nconst SIM_CONST = 50\n\nconst randomColor = () => {\n  return COLORS[Math.floor(Math.random() * COLORS.length)]\n}\n\nconst colorDist = (a, b) => {\n  return Math.max(...a.map((item, i) => Math.abs(a[i] - b[i])))\n}\n\nconst correctColors = colors => {\n  let ok = true\n\n  colors.forEach((c1, i)=> {\n    colors.forEach((c2, j) => {\n      if (i === j) return\n      if (Math.max(...c1.map((c, k) => Math.abs(c - c2[k]))) < SIM_CONST) {\n        ok = false\n        return\n      }\n    })\n  })\n  return ok\n}\n\nconst getColors = () => {\n  let colors = []\n  for (let i = 0, j = 4; i < j; ++i) {\n    let color = randomColor()\n    if (j < 100 && colors.length && Math.min(...colors.map(c => colorDist(c, color))) < SIM_CONST*(W-1)) {\n      ++j;\n    } else {\n      colors.push(color);\n    }\n  }\n  return colors;\n}\n\nconst combineColors = (colorA, coefA, colorB, coefB) => {\n  return colorA.map((item, i) => Math.floor((colorA[i]*coefA + colorB[i]*coefB)/(coefA+coefB) + .5))\n}\n\nconst shuffleBoard = board => {\n  let colors = []\n  for (let i = 0; i < W; ++i) {\n    for (let j = 0; j < H; ++j) {\n      if ((i === 0 || i === W-1) && (j === 0 || j === H-1)) continue\n      colors.push(board[i][j])\n    }\n  }\n  \n  for (let i = 0; i < W; ++i) {\n    for (let j = 0; j < H; ++j) {\n      if ((i === 0 || i === W-1) && (j === 0 || j === H-1)) continue\n      board[i][j] = colors[Math.floor(Math.random()*colors.length)]\n      colors = colors.filter(c => c !== board[i][j])\n    }\n  }\n  return board\n}\n\nconst genBoard = (correctBoard, iter=1) => {\n  const colors = getColors();\n  const board = []\n  for (let i = 0; i < W; ++i) {\n    board.push([])\n    let colorAbove = combineColors(colors[0], W-1-i, colors[1], i)\n    let colorBelow = combineColors(colors[2], W-1-i, colors[3], i)\n    for (let j = 0; j < H; ++j) {\n      board[i].push(\n        combineColors(colorAbove, H-1-j, colorBelow, j)\n      )\n    }\n  }\n  if (!correctColors([].concat(...board)) && iter < 100) return genBoard(correctBoard, iter+1)\n  else {\n    correctBoard.current = board\n    console.log(\"it took\", iter, \"iterations\")\n  }\n  return shuffleBoard(JSON.parse(JSON.stringify(correctBoard.current)))\n}\n\nconst checkWin = (board, correctBoard) => {\n  for (let i = 0; i < W; ++i) {\n    for (let j = 0; j < H; ++j) {\n      if (JSON.stringify(board[i][j]) !== JSON.stringify(correctBoard.current[i][j])) {\n        //console.log('at', [i, j], board[i][j], 'is not same as', correctBoard.current[i][j])\n        return false\n      }\n    }\n  }\n  return true\n}\n\nconst useStyles = makeStyles({\n  app: {\n  }\n});\n\nfunction App() {\n  const c = useStyles();\n  const correctBoard = React.useRef()\n  const [ board, setBoard ] = React.useState(() => genBoard(correctBoard))\n  const [ counter, setCounter ] = React.useState(0)\n  React.useEffect(() => {\n    if (checkWin(board, correctBoard)) {\n      const pid = setTimeout(() => {\n        alert(`E> Yay you did it! <3 It took you ${counter} steps. World averadge is ${counter*2}.`)\n        setBoard(genBoard(correctBoard))\n        setCounter(0)\n      }, 500)\n      return () => clearTimeout(pid)\n    }\n  }, [board])\n\n  const swap = (a, b) => {\n    setCounter(c => c+1)\n    setBoard(board_old => {\n      let board = JSON.parse(JSON.stringify(board_old))\n      let helper = board[a.x][a.y]\n      board[a.x][a.y] = board[b.x][b.y]\n      board[b.x][b.y] = helper\n      return board\n    })\n    console.log('swapped', a, 'and', b)\n  }\n\n  const solve = () => {\n    setBoard(correctBoard.current)\n  }\n\n  window.solve = solve\n\n  return (\n    <div className={c.app}>\n      <Board board={board} correctBoard={correctBoard.current} swap={swap}/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}