(window.webpackJsonphue=window.webpackJsonphue||[]).push([[0],{21:function(e,t,n){e.exports=n(35)},26:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);for(var r=n(0),o=n.n(r),a=n(14),i=n.n(a),c=(n(26),n(15)),u=n(3),l=n(7),s=n(42),f=n(6),d=n(19),p=(n(34),{TILE:"tile"}),g=[0,64,128,192,255],h=[],v=0;v<125;v++){for(var b=[],m=v,y=0;y<3;++y)b.push(g[m%5]),m=Math.floor(m/5);Math.max.apply(Math,b)-Math.min.apply(Math,b)<128||h.push(b)}var w=[].concat(h),O=Object(s.a)({tile:{height:"100%",width:"100%",background:function(e){return"rgb(".concat(e.color.join(", "),")")},opacity:function(e){return e.isDragging?0:1}}});var j=function(e){var t=e.color,n=e.item,r=e.fixed,a=Object(f.c)({item:n,canDrag:function(){return!r},collect:function(e){return{isDragging:!!e.isDragging()}}}),i=Object(u.a)(a,2),c=i[0].isDragging,l=i[1],s=O({isDragging:c,color:t});return o.a.createElement("div",{className:s.tile,ref:l,draggable:!0})},E=Object(s.a)({square:{background:"#000",border:function(e){return"".concat(e.wallSize,"px solid ").concat(e.correct?"#CCC":"#000")},position:"relative",zIndex:function(e){return e.selected?1:0},transform:function(e){return e.selected?"scale(1.2)":"scale(1)"},transition:"all .1s ease-out",cursor:function(e){return e.fixed?"initial":"pointer"},"&::before":{display:function(e){return e.fixed?"block":"none"},content:'" "',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"100%",backgroundColor:"#000",width:"10%",height:"10%"}}});var S=function(e){var t=e.tileColor,n=e.onDrop,r=e.onClick,a=e.selected,i=e.fixed,c=e.dndItem,l=e.correct,s=e.wallSize,d=Object(f.d)({accept:p.TILE,canDrop:function(){return!i},drop:n}),g=Object(u.a)(d,2)[1],h=E({selected:a,fixed:i,correct:l,wallSize:s});return o.a.createElement("div",{className:h.square,ref:g,onClick:i?void 0:r},o.a.createElement(j,{color:t,item:c,fixed:i}))},k=function(e,t){return e.x===t.x&&e.y===t.y},x=Object(s.a)({board:{height:"100vmin",width:"100vmin",display:"inline-grid",gridTemplateColumns:function(e){return"repeat(".concat(e.W,", 1fr)")},gridTemplateRows:function(e){return"repeat(".concat(e.H,", 1fr)")}}});var W=function(e){var t=e.board,n=e.correctBoard,r=e.swap,a=t.length,i=(t[0]||[]).length,c=x({W:a,H:i}),l=o.a.useState(void 0),s=Object(u.a)(l,2),g=s[0],h=s[1],v=o.a.useState(0),b=Object(u.a)(v,2),m=b[0],y=b[1];return window.setWallSize=y,o.a.createElement(f.b,{backend:d.a,options:{enableMouseEvents:!0,preview:!0}},o.a.createElement("div",{className:c.board},function(){for(var e=[],c=function(c){for(var u=function(u){e.push(o.a.createElement(S,{key:[u,c].join(", "),tileColor:t[u][c],fixed:(0===c||c===i-1)&&(0===u||u===a-1),correct:JSON.stringify(t[u][c])===JSON.stringify(n[u][c]),dndItem:{type:p.TILE,pos:{x:u,y:c}},selected:void 0!==g&&k(g,{x:u,y:c}),onDrop:function(e){r(e.pos,{x:u,y:c})},onClick:function(){void 0===g?h({x:u,y:c}):(k(g,{x:u,y:c})||r(g,{x:u,y:c}),h(void 0))},wallSize:m}))},l=0;l<a;++l)u(l)},u=0;u<i;++u)c(u);return e}()))};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=function(e){var t=!0;return e.forEach(function(n,r){e.forEach(function(e,o){r!==o&&Math.max.apply(Math,Object(l.a)(n.map(function(t,n){return Math.abs(t-e[n])})))<10&&(t=!1)})}),t},D=function(){for(var e=[],t=0;t<4;++t){var n=w[Math.floor(Math.random()*w.length)];e.push(n)}return e},J=function(e,t,n,r){return e.map(function(o,a){return Math.floor((e[a]*t+n[a]*r)/(t+r)+.5)})},P=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)(0!==n&&n!==e.length-1||0!==r&&r!==e[n].length-1)&&t.push(e[n][r]);for(var o=function(n){for(var r=function(r){if((0===n||n===e.length-1)&&(0===r||r===e[n].length-1))return"continue";e[n][r]=t[Math.floor(Math.random()*t.length)],t=t.filter(function(t){return t!==e[n][r]})},o=0;o<e[n].length;++o)r(o)},a=0;a<e.length;++a)o(a);return e},H=function e(t,n,r){for(var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=D(),c=[],u=0;u<n;++u){c.push([]);for(var l=J(i[0],n-1-u,i[1],u),s=J(i[2],n-1-u,i[3],u),f=0;f<r;++f)c[u].push(J(l,r-1-f,s,f))}return!M((o=[]).concat.apply(o,c))&&a<100?e(t,n,r,a+1):(t.current=c,console.log("it took",a,"iterations"),P(JSON.parse(JSON.stringify(t.current))))},T=function(e,t){for(var n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)if(JSON.stringify(e[n][r])!==JSON.stringify(t.current[n][r]))return!1;return!0},I=Object(s.a)({app:{},controls:{display:"inline-block","& > *":{display:"block"}}});var z=function(){var e=I(),t=o.a.useRef(),n=o.a.useState({W:6,H:6}),r=Object(u.a)(n,2),a=r[0],i=a.W,c=a.H,l=r[1],s=o.a.useState({W:i.toString(),H:c.toString()}),f=Object(u.a)(s,2),d=f[0],p=f[1],g=o.a.useState(function(){return H(t,i,c)}),h=Object(u.a)(g,2),v=h[0],b=h[1];o.a.useEffect(function(){b(H(t,i,c))},[i,c]);var m=o.a.useState(0,[v]),y=Object(u.a)(m,2),w=y[0],O=y[1];return o.a.useEffect(function(){if(T(v,t)){var e=setTimeout(function(){alert("E> Yay you did it! <3 It took you ".concat(w," steps. World averadge is ").concat(2*w,".")),b(H(t)),O(0)},500);return function(){return clearTimeout(e)}}},[v]),window.solve=function(){b(t.current)},o.a.createElement("div",{className:e.app},o.a.createElement(W,{board:v,correctBoard:t.current,swap:function(e,t){O(function(e){return e+1}),b(function(n){var r=JSON.parse(JSON.stringify(n)),o=r[e.x][e.y];return r[e.x][e.y]=r[t.x][t.y],r[t.x][t.y]=o,r})}}),o.a.createElement("div",{className:e.controls},o.a.createElement("input",{value:d.W,onChange:function(e){return p(C({},d,{W:e.target.value}))}}),o.a.createElement("input",{value:d.H,onChange:function(e){return p(C({},d,{H:e.target.value}))}}),o.a.createElement("button",{onClick:function(){return l({W:Number(d.W),H:Number(d.H)})}},"Apply")))},A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hue",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/hue","/service-worker.js");A?(!function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):R(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):R(t,e)})}}()}},[[21,1,2]]]);
//# sourceMappingURL=main.9a8ebf92.chunk.js.map