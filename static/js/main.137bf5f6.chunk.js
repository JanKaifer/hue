(window.webpackJsonphue=window.webpackJsonphue||[]).push([[0],{20:function(n,e,t){n.exports=t(34)},25:function(n,e,t){},34:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),a=t(14),i=t.n(a),c=(t(25),t(3)),u=t(7),s=t(41),l=t(6),f=t(18),d=(t(33),{TILE:"tile"}),p=[[255,0,0],[0,255,0],[0,0,255],[255,255,0],[255,0,255],[0,255,255]],g=Object(s.a)({tile:{height:"100%",width:"100%",background:function(n){return"rgb(".concat(n.color.join(", "),")")},opacity:function(n){return n.isDragging?0:1}}});var h=function(n){var e=n.color,t=n.item,r=n.fixed,a=Object(l.c)({item:t,canDrag:function(){return!r},collect:function(n){return{isDragging:!!n.isDragging()}}}),i=Object(c.a)(a,2),u=i[0].isDragging,s=i[1],f=g({isDragging:u,color:e});return o.a.createElement("div",{className:f.tile,ref:s,draggable:!0})},v=Object(s.a)({square:{background:"#000",border:function(n){return"".concat(n.wallSize,"px solid ").concat(n.correct?"#CCC":"#000")},position:"relative",zIndex:function(n){return n.selected?1:0},transform:function(n){return n.selected?"scale(1.2)":"scale(1)"},transition:"all .1s ease-out",cursor:function(n){return n.fixed?"initial":"pointer"},"&::before":{display:function(n){return n.fixed?"block":"none"},content:'" "',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"100%",backgroundColor:"#000",width:"10%",height:"10%"}}});var b=function(n){var e=n.tileColor,t=n.onDrop,r=n.onClick,a=n.selected,i=n.fixed,u=n.dndItem,s=n.correct,f=n.wallSize,p=Object(l.d)({accept:d.TILE,canDrop:function(){return!i},drop:t}),g=Object(c.a)(p,2)[1],b=v({selected:a,fixed:i,correct:s,wallSize:f});return o.a.createElement("div",{className:b.square,ref:g,onClick:i?void 0:r},o.a.createElement(h,{color:e,item:u,fixed:i}))},m=function(n,e){return n.x===e.x&&n.y===e.y},w=Object(s.a)({board:{height:"100vmin",width:"100vmin",display:"grid",gridTemplateColumns:function(n){return"repeat(".concat(n.W,", 1fr)")},gridTemplateRows:function(n){return"repeat(".concat(n.H,", 1fr)")}}});var y=function(n){var e=n.board,t=n.correctBoard,r=n.swap,a=e.length,i=(e[0]||[]).length,u=w({W:a,H:i}),s=o.a.useState(void 0),p=Object(c.a)(s,2),g=p[0],h=p[1],v=o.a.useState(0),y=Object(c.a)(v,2),x=y[0],O=y[1];return window.setWallSize=O,o.a.createElement(l.b,{backend:f.a,options:{enableMouseEvents:!0,preview:!0}},o.a.createElement("div",{className:u.board},function(){for(var n=[],c=function(c){for(var u=function(u){n.push(o.a.createElement(b,{key:[u,c].join(", "),tileColor:e[u][c],fixed:(0===c||c===i-1)&&(0===u||u===a-1),correct:JSON.stringify(e[u][c])===JSON.stringify(t[u][c]),dndItem:{type:d.TILE,pos:{x:u,y:c}},selected:void 0!==g&&m(g,{x:u,y:c}),onDrop:function(n){r(n.pos,{x:u,y:c})},onClick:function(){void 0===g?h({x:u,y:c}):(m(g,{x:u,y:c})||r(g,{x:u,y:c}),h(void 0))},wallSize:x}))},s=0;s<a;++s)u(s)},u=0;u<i;++u)c(u);return n}()))},x=function(n){var e=!0;return n.forEach(function(t,r){n.forEach(function(n,o){r!==o&&Math.max.apply(Math,Object(u.a)(t.map(function(e,t){return Math.abs(e-n[t])})))<50&&(e=!1)})}),e},O=function(){for(var n=[],e=function(e,t){var o=p[Math.floor(Math.random()*p.length)];t<100&&n.length&&Math.min.apply(Math,Object(u.a)(n.map(function(n){return e=n,t=o,Math.max.apply(Math,Object(u.a)(e.map(function(n,r){return Math.abs(e[r]-t[r])})));var e,t})))<200?++t:n.push(o),r=t},t=0,r=4;t<r;++t)e(0,r);return n},k=function(n,e,t,r){return n.map(function(o,a){return Math.floor((n[a]*e+t[a]*r)/(e+r)+.5)})},E=function(n){for(var e=[],t=0;t<5;++t)for(var r=0;r<5;++r)(0!==t&&4!==t||0!==r&&4!==r)&&e.push(n[t][r]);for(var o=function(t){for(var r=function(r){if((0===t||4===t)&&(0===r||4===r))return"continue";n[t][r]=e[Math.floor(Math.random()*e.length)],e=e.filter(function(e){return e!==n[t][r]})},o=0;o<5;++o)r(o)},a=0;a<5;++a)o(a);return n},S=function n(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=O(),a=[],i=0;i<5;++i){a.push([]);for(var c=k(o[0],4-i,o[1],i),u=k(o[2],4-i,o[3],i),s=0;s<5;++s)a[i].push(k(c,4-s,u,s))}return!x((t=[]).concat.apply(t,a))&&r<100?n(e,r+1):(e.current=a,console.log("it took",r,"iterations"),E(JSON.parse(JSON.stringify(e.current))))},j=function(n,e){for(var t=0;t<5;++t)for(var r=0;r<5;++r)if(JSON.stringify(n[t][r])!==JSON.stringify(e.current[t][r]))return!1;return!0},M=Object(s.a)({app:{}});var N=function(){var n=M(),e=o.a.useRef(),t=o.a.useState(function(){return S(e)}),r=Object(c.a)(t,2),a=r[0],i=r[1],u=o.a.useState(0),s=Object(c.a)(u,2),l=s[0],f=s[1];return o.a.useEffect(function(){if(j(a,e)){var n=setTimeout(function(){alert("E> Yay you did it! <3 It took you ".concat(l," steps. World averadge is ").concat(2*l,".")),i(S(e)),f(0)},500);return function(){return clearTimeout(n)}}},[a]),window.solve=function(){i(e.current)},o.a.createElement("div",{className:n.app},o.a.createElement(y,{board:a,correctBoard:e.current,swap:function(n,e){f(function(n){return n+1}),i(function(t){var r=JSON.parse(JSON.stringify(t)),o=r[n.x][n.y];return r[n.x][n.y]=r[e.x][e.y],r[e.x][e.y]=o,r}),console.log("swapped",n,"and",e)}}))},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(n,e){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}}).catch(function(n){console.error("Error during service worker registration:",n)})}i.a.render(o.a.createElement(N,null),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/hue",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/hue","/service-worker.js");C?(!function(n,e){fetch(n).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):W(n,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):W(e,n)})}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.137bf5f6.chunk.js.map